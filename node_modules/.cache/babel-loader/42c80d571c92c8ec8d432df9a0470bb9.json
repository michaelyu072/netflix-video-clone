{"ast":null,"code":"import _slicedToArray from\"/Users/apple/Desktop/Netflix Video Clone/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useRef}from'react';import{useState}from'react';import{useEffect}from'react';import Controls from'./Controls';function Video(){var thisVideo=useRef(null);var thisVideoContainer=useRef(null);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isPlaying=_useState2[0],togglePlay=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isMuted=_useState4[0],toggleMute=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isFullscreen=_useState6[0],toggleFullscreen=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),percentageWatched=_useState8[0],setPercentageWatched=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),listened=_useState10[0],updateListened=_useState10[1];var _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),timeLeft=_useState12[0],updateTimeLeft=_useState12[1];var _useState13=useState(1),_useState14=_slicedToArray(_useState13,2),videoSpeed=_useState14[0],updateSpeed=_useState14[1];var _useState15=useState([.5,0]),_useState16=_slicedToArray(_useState15,2),volumePercentage=_useState16[0],updateVolume=_useState16[1];//////////play\nfunction handlePlay(){if(!isPlaying){thisVideo.current.play();}else{thisVideo.current.pause();}togglePlay(!isPlaying);}function back10(){thisVideo.current.currentTime-=10;}function forward10(){thisVideo.current.currentTime+=10;}function goToTime(event){var target=event.target;var parent=target.offsetParent;var time=(event.pageX-(target.offsetLeft+parent.offsetLeft))/target.offsetWidth;thisVideo.current.currentTime=time*thisVideo.current.duration;}//////////volume\nfunction mute(){if(!isMuted){thisVideo.current.volume=volumePercentage[1];}else{thisVideo.current.volume=volumePercentage[0];}thisVideo.current.muted=!thisVideo.current.muted;toggleMute(!isMuted);console.log(\"clicked\");}function changeVolume(value){thisVideo.current.volume=value;updateVolume([value,volumePercentage[1]]);toggleMute(false);}function goToVolume(event){var target=event.target;var values=target.getBoundingClientRect();var top=values.top;var bottom=values.bottom;var distance=event.pageY;var result=Math.abs((bottom-distance)/(bottom-top));changeVolume(Math.min(result,1));}//////////screen\nfunction fullscreen(){if(!isFullscreen){thisVideoContainer.current.requestFullscreen();}else{document.exitFullscreen();}toggleFullscreen(!isFullscreen);}document.addEventListener('fullscreenchange',function(){if(!document.fullscreenElement){toggleFullscreen(false);}else{toggleFullscreen(true);}});function changeSpeed(value){thisVideo.current.playbackRate=value;updateSpeed(value);}//////////time\nuseEffect(function(){if(!listened){thisVideo.current.addEventListener('timeupdate',function(){setPercentageWatched(thisVideo.current.currentTime/thisVideo.current.duration*100+\"%\");updateTimeLeft(thisVideo.current.duration-thisVideo.current.currentTime);updateListened(true);});}});//////////\nreturn/*#__PURE__*/React.createElement(\"div\",{ref:thisVideoContainer,className:\"video-container\"},/*#__PURE__*/React.createElement(\"video\",{ref:thisVideo,src:\"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4\",loop:true}),/*#__PURE__*/React.createElement(Controls,{handlePlay:handlePlay,playButton:!isPlaying,back10:back10,forward10:forward10,mute:mute,muteButton:isMuted,fullscreen:fullscreen,fullscreenIcon:!isFullscreen,percentageWatched:percentageWatched,timeLeft:timeLeft,goToTime:goToTime,changeSpeed:changeSpeed,videoSpeed:videoSpeed,volumePercentage:isMuted?volumePercentage[1]:volumePercentage[0],goToVolume:goToVolume}));}export default Video;","map":{"version":3,"sources":["/Users/apple/Desktop/Netflix Video Clone/src/components/Video.js"],"names":["React","useRef","useState","useEffect","Controls","Video","thisVideo","thisVideoContainer","isPlaying","togglePlay","isMuted","toggleMute","isFullscreen","toggleFullscreen","percentageWatched","setPercentageWatched","listened","updateListened","timeLeft","updateTimeLeft","videoSpeed","updateSpeed","volumePercentage","updateVolume","handlePlay","current","play","pause","back10","currentTime","forward10","goToTime","event","target","parent","offsetParent","time","pageX","offsetLeft","offsetWidth","duration","mute","volume","muted","console","log","changeVolume","value","goToVolume","values","getBoundingClientRect","top","bottom","distance","pageY","result","Math","abs","min","fullscreen","requestFullscreen","document","exitFullscreen","addEventListener","fullscreenElement","changeSpeed","playbackRate"],"mappings":"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","sourcesContent":["import React, {useRef} from 'react';\nimport {useState} from 'react';\nimport {useEffect} from 'react';\nimport Controls from './Controls';\n\n\nfunction Video() {\n\n  const thisVideo = useRef(null);\n  const thisVideoContainer = useRef(null);\n  const [isPlaying, togglePlay] = useState(false);\n  const [isMuted, toggleMute] = useState(false);\n  const [isFullscreen, toggleFullscreen] = useState(false);\n  const [percentageWatched, setPercentageWatched ] = useState(0);\n  const [listened, updateListened] = useState(false);\n  const [timeLeft, updateTimeLeft] = useState(0);\n  const [videoSpeed, updateSpeed] = useState(1);\n  const [volumePercentage, updateVolume] = useState([.5,0]);\n\n\n//////////play\n\n  function handlePlay() {\n    if(!isPlaying) {\n      thisVideo.current.play();\n\n      \n\n    } else {\n      thisVideo.current.pause();\n    }\n    togglePlay(!isPlaying);\n  }\n\n\n  function back10() {\n    thisVideo.current.currentTime -= 10;\n  }\n\n  function forward10() {\n    thisVideo.current.currentTime += 10;\n  }\n\n  function goToTime(event) {\n    let target = event.target;\n    const parent = target.offsetParent;\n    const time = (event.pageX - (target.offsetLeft + parent.offsetLeft))/(target.offsetWidth);\n    thisVideo.current.currentTime = time*thisVideo.current.duration;\n  }\n\n  //////////volume\n  function mute() {\n\n      if(!isMuted) {\n        thisVideo.current.volume = volumePercentage[1];\n      } else {\n        thisVideo.current.volume = volumePercentage[0];\n      }\n\n      thisVideo.current.muted = !thisVideo.current.muted;\n      toggleMute(!isMuted);\n      console.log(\"clicked\");\n  }\n\n  function changeVolume(value) {\n    thisVideo.current.volume = value;\n    updateVolume([value, volumePercentage[1]]);\n    toggleMute(false);\n  }\n\n  function goToVolume(event) {\n    let target = event.target;\n    let values = target.getBoundingClientRect()\n    const top = values.top;\n    const bottom = values.bottom;\n    const distance = event.pageY;\n    const result = Math.abs((bottom-distance)/(bottom-top));\n    changeVolume(Math.min(result, 1));\n  }\n\n\n\n\n\n  //////////screen\n\n  function fullscreen() {\n\n    if(!isFullscreen) {\n      thisVideoContainer.current.requestFullscreen();\n    } else {\n      document.exitFullscreen();\n    }\n    toggleFullscreen(!isFullscreen);\n  }\n\n  document.addEventListener('fullscreenchange', () => {\n    if(!document.fullscreenElement) {\n      toggleFullscreen(false);\n    } else {\n      toggleFullscreen(true);\n    }\n  })\n\n  function changeSpeed(value) {\n    thisVideo.current.playbackRate = value;\n    updateSpeed(value);\n  }\n  \n//////////time\n     \n  useEffect(() => {\n    if(!listened) {\n    thisVideo.current.addEventListener('timeupdate', () => {\n      setPercentageWatched(((thisVideo.current.currentTime / thisVideo.current.duration)*100)+\"%\");\n      updateTimeLeft(thisVideo.current.duration - thisVideo.current.currentTime);\n      updateListened(true);\n    })\n  }\n});\n\n\n\n\n\n\n\n\n//////////\n  return <div ref = {thisVideoContainer} className = \"video-container\">\n  <video ref = {thisVideo} src = \"http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4\" \n    loop ></video>\n\n  <Controls \n    handlePlay = {handlePlay} \n    playButton = {!isPlaying}\n    back10 = {back10}\n    forward10 = {forward10}\n    mute = {mute}\n    muteButton = {isMuted}\n    fullscreen = {fullscreen}\n    fullscreenIcon = {!isFullscreen}\n    percentageWatched = {percentageWatched}\n    timeLeft = {timeLeft}\n    goToTime = {goToTime}\n    changeSpeed = {changeSpeed}\n    videoSpeed = {videoSpeed}\n    volumePercentage = {isMuted ? volumePercentage[1] : volumePercentage[0]}\n    goToVolume = {goToVolume}\n  />\n</div>;\n}\n\nexport default Video;"]},"metadata":{},"sourceType":"module"}